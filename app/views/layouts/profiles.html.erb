<%= provide(:content) do %>
  <% if Current.user.present? %>
    <%= render "layouts/header" %>
  <% end %>

  <% if content_for?(:main) %>
    <% yield :main %>
  <% else %>
    <main class="container mx-auto px-4 md:py-16 py-6">
      <div>
        <div class="relative h-16">
          <%= render UI::Avatar::Component.new(
            size: nil,
            src: "https://i.pravatar.cc/300",
            class: "absolute size-32 left-0 bottom-0 translate-y-1/2",
            icon_attrs: {
              class: "size-20"
            }
          ) do |avatar| %>
            <% avatar.with_placeholder %>
          <% end %>
        </div>

        <div class="h-16 flex justify-end pt-2">
          <div>
            <%= render UI::Button::Component.new(
              builder: :a, 
              href: "#", 
              class: "inline-flex"
            ).with_content("Seguir") %>
          </div>
        </div>

        <div class="mt-3 space-y-3">
          <div>
            <h2 class="h3 text-zinc-900 dark:text-zinc-100">
              <%= @user.name %>
            </h2>

            <h3 class="font-light text-base text-zinc-700 tracking-normal dark:text-zinc-300 font-heading">
              @test.test
            </h2>
          </div>

          <div class="flex items-center">
            <div class="flex items-center gap-2 flex-1">
              <%= render UI::Icon::Component.new("clock", variant: :outline, class: "text-zinc-600 dark:text-zinc-400") %>
              <span class="text-sm text-zinc-600 dark:text-zinc-400">
                Ingressou em <%= localize(@user.created_at.to_date, format: :long) %>
              </span>
            </div>
          </div>

          <div class="lg:hidden flex gap-2 text-sm text-zinc-600 dark:text-zinc-400">
            <div class="flex items-center gap-2">
              <span class="text-sm text-zinc-600 dark:text-zinc-400">
                10 seguindo
              </span>
            </div>

            <div class="flex items-center gap-2">
              <span class="text-sm text-zinc-600 dark:text-zinc-400">
                10 seguidores
              </span>
            </div>
          </div>
        </div>
      </div>

      <div class="pt-4 lg:pt-6 grid grid-cols-3 gap-24">
        <div class="col-span-3 lg:col-span-2">
          <%= render UI::TabNav::Component.new(class: "pb-0") do |tab_nav| %>
            <% tab_nav.with_tab(active: true) do |tab| %>
              <% tab.with_title.with_content("Atividades") %>
            <% end %>

            <% tab_nav.with_tab do |tab| %>
              <% tab.with_title.with_content("Seguidores") %>
            <% end %>

            <% tab_nav.with_tab do |tab| %>
              <% tab.with_title.with_content("Metas") %>
            <% end %>
          <% end %>
        </div>
      </div>

      <div class="grid grid-cols-3 lg:gap-24">
        <div class="col-span-3 lg:col-span-2 py-4">
          <%= yield %>
        </div>

        <%= render "layouts/profiles/sidebar" %>
      </div>
    </main>
  <% end %>

  <%= render "shared/flash" %>
<% end %>

<%= render template: "layouts/application" %>
